/* ROOT: Full screen overlay BEHIND the chat */
.stge--root {
  position: fixed !important;
  inset: 0;
  width: 100vw !important;
  height: 100vh !important;
  z-index: 10; /* Lower than #sheld (30) */
  pointer-events: none; /* Allows clicking through to the app */
  background: transparent;
  display: block;
}

/* WRAPPERS: Common logic for all images */
.stge--wrapper {
  position: absolute !important;
  height: 50vh !important; /* Forces each image to be half the screen height */
  width: auto !important;  /* Width scales naturally based on aspect ratio */
  margin: 0 !important;
  padding: 0 !important;
  
  /* Reset dynamic animation styles */
  transform: none !important;
  scale: 1 !important;
  top: auto; bottom: auto; left: auto; right: auto;
}

/* IMAGE: Ensure it fills the wrapper */
.stge--img {
  height: 100% !important;
  width: auto !important;
  object-fit: contain;
  display: block;
}

/* --- CORNER POSITIONS --- */

/* Image 1: Top Left */
.stge--wrapper[style*="--order: 0"], 
.stge--wrapper[style*="--order:0"] {
  top: 0;
  left: 0;
  transform-origin: top left;
}

/* Image 2: Bottom Left */
.stge--wrapper[style*="--order: 1"], 
.stge--wrapper[style*="--order:1"] {
  bottom: 0;
  left: 0;
  transform-origin: bottom left;
}

/* Image 3: Top Right */
.stge--wrapper[style*="--order: 2"], 
.stge--wrapper[style*="--order:2"] {
  top: 0;
  right: 0;
  transform-origin: top right;
}

/* Image 4: Bottom Right */
.stge--wrapper[style*="--order: 3"], 
.stge--wrapper[style*="--order:3"] {
  bottom: 0;
  right: 0;
  transform-origin: bottom right;
}

/* Hide any extra images (Order 4+) */
.stge--wrapper[style*="--order: 4"],
.stge--wrapper[style*="--order: 5"] {
  display: none;
}

/* Layout adjustments for different visible counts */

/* 1 image: use full height on the left for slot 0 */
.stge--root[data-visible-count="1"] .stge--wrapper[style*="--order: 0"],
.stge--root[data-visible-count="1"] .stge--wrapper[style*="--order:0"] {
  height: 100vh !important;
  top: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
  right: auto !important;
  transform-origin: center left;
}

/* 2 images: slot 0 full-left, slot 1 full-right */
.stge--root[data-visible-count="2"] .stge--wrapper[style*="--order: 0"],
.stge--root[data-visible-count="2"] .stge--wrapper[style*="--order:0"] {
  height: 100vh !important;
  top: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
  right: auto !important;
  transform-origin: center left;
}
.stge--root[data-visible-count="2"] .stge--wrapper[style*="--order: 1"],
.stge--root[data-visible-count="2"] .stge--wrapper[style*="--order:1"] {
  height: 100vh !important;
  top: 0 !important;
  bottom: 0 !important;
  right: 0 !important;
  left: auto !important;
  transform-origin: center right;
}

/* 3 images: slot 0 full-left; slots 1 and 2 are half-height on the right (top and bottom)
   Note: this intentionally remaps the visual placement for slots 1/2 when 3 images are visible
*/
.stge--root[data-visible-count="3"] .stge--wrapper[style*="--order: 0"],
.stge--root[data-visible-count="3"] .stge--wrapper[style*="--order:0"] {
  height: 100vh !important;
  top: 0 !important;
  bottom: 0 !important;
  left: 0 !important;
  right: auto !important;
  transform-origin: center left;
}
/* place order:1 at top-right half */
.stge--root[data-visible-count="3"] .stge--wrapper[style*="--order: 1"],
.stge--root[data-visible-count="3"] .stge--wrapper[style*="--order:1"] {
  height: 50vh !important;
  top: 0 !important;
  right: 0 !important;
  bottom: auto !important;
  left: auto !important;
  transform-origin: top right;
}
/* place order:2 at bottom-right half */
.stge--root[data-visible-count="3"] .stge--wrapper[style*="--order: 2"],
.stge--root[data-visible-count="3"] .stge--wrapper[style*="--order:2"] {
  height: 50vh !important;
  bottom: 0 !important;
  right: 0 !important;
  top: auto !important;
  left: auto !important;
  transform-origin: bottom right;
}
